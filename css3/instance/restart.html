<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>重启</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        #container{
            width: 750px;
            height: 500px;
        }
        #container div{
            width: 125px;
            height: 125px;
        }
    </style>
</head>
<body>
    <div id="container"></div>
    <span id="prev"></span>
    <span id="next"></span>
    <script>
        (function(){
            var ROW = 4;
            var COL = 6;
            var NUM = ROW*COL;
            var count=0;
            var oContainer=document.getElementById('container');
            for(var i = 0;i<NUM;i++){
                count++;
                var oThumbnail = new Image();
                oThumbnail.onload = function(){
                       if(count==2*NUM){
                           loadSuccess();
                       }
                } ;
                oThumbnail.src ="photo/img/thumbs/"+(i+1)+".jpg";
                count++;
                var oBigImg=new Image();
                oBigImg.onload =function(){
                       if(count==2*NUM){
                           loadSuccess();
                       }
                };
                oBigImg.src="photo/img/"+(i+1)+".jpg";
            }
            function loadSuccess(){
                for(var i=0;i<NUM;i++){
                    var oDiv =document.createElement('div');
                    oDiv.style.backgroundImage="photo/img/thumbs/"+(i+1)+".jpg";
                    oContainer.appendChild(oDiv); 

                }
            };
        })();
    </script>
</body>
</html>